# Class Modifiers & Sealed Classes

## 1. Class Modifiers ê°œìš”

Dart 3 ì´ì „ì—ëŠ” ëª¨ë“  í´ëž˜ìŠ¤ê°€ ê¸°ë³¸ì ìœ¼ë¡œ ìƒì†(extend), êµ¬í˜„(implement), í˜¼í•©(mixin)ì´ ê°€ëŠ¥í–ˆìŠµë‹ˆë‹¤. ì´ì œëŠ” 4ê°€ì§€ í‚¤ì›Œë“œë¡œ ì´ë¥¼ ì œí•œí•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

| **Modifier** | **Extend** | **Implement** | **Mixin** | **íŠ¹ì§•** |
| --- | --- | --- | --- | --- |
| **base** | âœ… | âŒ | âŒ | ìƒì†ì€ í—ˆìš©í•˜ì§€ë§Œ, ì¸í„°íŽ˜ì´ìŠ¤ êµ¬í˜„ì€ ê¸ˆì§€í•˜ì—¬ ê¸°ë°˜ í´ëž˜ìŠ¤ì˜ ì„¤ê³„ë¥¼ ê°•ì œí•¨. |
| **interface** | âŒ | âœ… | âŒ | ì¸í„°íŽ˜ì´ìŠ¤ë¡œë§Œ ì‚¬ìš© ê°€ëŠ¥. ë‚´ë¶€ êµ¬í˜„ ìƒì†ì„ ë°©ì§€í•¨. |
| **final** | âŒ | âŒ | âŒ | ìƒì†ê³¼ êµ¬í˜„ ëª¨ë‘ ê¸ˆì§€. í´ëž˜ìŠ¤ ê³„ì¸µ êµ¬ì¡°ë¥¼ ì™„ì „ížˆ ë‹«ìŒ. |
| **sealed** | âš ï¸ | âš ï¸ | âŒ | **ë™ì¼í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬(íŒŒì¼)**Â ë‚´ì—ì„œë§Œ ìƒì† ê°€ëŠ¥. ì™¸ë¶€ì—ì„œëŠ” ë¶ˆê°€. |

## 2. Sealed Class (ë´‰ì¸ëœ í´ëž˜ìŠ¤)

sealedÂ í‚¤ì›Œë“œëŠ” í´ëž˜ìŠ¤ ê³„ì¸µ êµ¬ì¡°ë¥¼Â **ì»´íŒŒì¼ íƒ€ìž„ì— í™•ì •**ì§“ìŠµë‹ˆë‹¤.

### íŠ¹ì§•

- **ì•”ì‹œì  ì¶”ìƒ í´ëž˜ìŠ¤**: ì§ì ‘ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
- **ì™„ì „ì„± ê²€ì‚¬ (Exhaustiveness checking)**: ì»´íŒŒì¼ëŸ¬ê°€ ëª¨ë“  í•˜ìœ„ íƒ€ìž…ì„ ì¸ì§€í•©ë‹ˆë‹¤.Â switchÂ ë¬¸ì—ì„œ ëª¨ë“  ì¼€ì´ìŠ¤ë¥¼ ì²˜ë¦¬í•˜ì§€ ì•Šìœ¼ë©´ ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.

### ì‹¤ì „ ì˜ˆì œ: API ìƒíƒœ ê´€ë¦¬

Flutterì—ì„œ BLoCì´ë‚˜ ë¡œì»¬ ìƒíƒœ ê´€ë¦¬ë¥¼ í•  ë•Œ ê°€ìž¥ ë§Žì´ ì“°ì´ëŠ” íŒ¨í„´ìž…ë‹ˆë‹¤.

```dart
sealed class AuthState {}

class AuthInitial extends AuthState {}
class AuthLoading extends AuthState {}
class AuthSuccess extends AuthState {
  final String userName;
  AuthSuccess(this.userName);
}
class AuthError extends AuthState {
  final String message;
  AuthError(this.message);
}

// ì‚¬ìš© ì˜ˆì‹œ
String getMessage(AuthState state) {
  // switch ì‹ê³¼ ê²°í•©í•˜ì—¬ ëª¨ë“  ìƒíƒœë¥¼ ì²˜ë¦¬í•˜ë„ë¡ ê°•ì œí•¨
  return switch (state) {
    AuthInitial() => 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.',
    AuthLoading() => 'ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...',
    AuthSuccess(userName: var name) => 'í™˜ì˜í•©ë‹ˆë‹¤, $nameë‹˜!',
    AuthError(message: var msg) => 'ì—ëŸ¬ ë°œìƒ: $msg',
    // ëª¨ë“  ì¼€ì´ìŠ¤ë¥¼ ë‹¤ ì ì—ˆìœ¼ë¯€ë¡œ 'default'ë‚˜ '_' ê°€ í•„ìš” ì—†ìŒ!
  };
}
```

## **3. base, interface, final**

### 3-1.Â baseÂ (ìƒì† í—ˆìš©, ì¸í„°íŽ˜ì´ìŠ¤ êµ¬í˜„ ê¸ˆì§€)

baseÂ í‚¤ì›Œë“œëŠ” í•´ë‹¹ í´ëž˜ìŠ¤ì˜Â **êµ¬í˜„ì„ ë¬¼ë ¤ë°›ëŠ” ìƒì†ì€ í—ˆìš©**í•˜ì§€ë§Œ, ì„¤ê³„ë„ë§Œ ê°€ì ¸ê°€ëŠ”Â **ì¸í„°íŽ˜ì´ìŠ¤ êµ¬í˜„(implements)ì€ ê¸ˆì§€**í•©ë‹ˆë‹¤.

- **ëª©ì **: ìžì‹ í´ëž˜ìŠ¤ê°€ ë°˜ë“œì‹œ ë¶€ëª¨ í´ëž˜ìŠ¤ì˜ í•µì‹¬ ë¡œì§(ìƒì„±ìž, í•„ë“œ ë“±)ì„ í¬í•¨í•˜ë„ë¡ ê°•ì œí•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.
- **íŠ¹ì§•**:Â baseÂ í´ëž˜ìŠ¤ë¥¼ ìƒì†ë°›ëŠ” ìžì‹ í´ëž˜ìŠ¤ë„ ë°˜ë“œì‹œÂ base,Â final, ë˜ëŠ”Â sealedì—¬ì•¼ í•©ë‹ˆë‹¤.

```dart
// [File: vehicle_lib.dart]
base class Vehicle {
  void move() => print("ë°”í€´ê°€ êµ´ëŸ¬ê°‘ë‹ˆë‹¤.");
}

// [File: main.dart]
import 'vehicle_lib.dart';

// âœ… ìƒì†ì€ ê°€ëŠ¥ (ë¶€ëª¨ì˜ êµ¬í˜„ì„ ê·¸ëŒ€ë¡œ ì´ì–´ë°›ìŒ)
base class Car extends Vehicle {}

// âŒ ì¸í„°íŽ˜ì´ìŠ¤ êµ¬í˜„ì€ ë¶ˆê°€ëŠ¥ (ì»´íŒŒì¼ ì—ëŸ¬)
// class MockVehicle implements Vehicle {} 
// Error: The class 'Vehicle' can't be implemented outside of its library.
```

### 3-2.Â interfaceÂ (ì¸í„°íŽ˜ì´ìŠ¤ êµ¬í˜„ í—ˆìš©, ìƒì† ê¸ˆì§€)

interfaceÂ í‚¤ì›Œë“œëŠ” í•´ë‹¹ í´ëž˜ìŠ¤ë¥¼Â **ì„¤ê³„ë„(implements)ë¡œ ì“°ëŠ” ê²ƒì€ í—ˆìš©**í•˜ì§€ë§Œ,Â **ë‚´ë¶€ êµ¬í˜„ì„ ë¬¼ë ¤ë°›ëŠ” ìƒì†(extends)ì€ ê¸ˆì§€**í•©ë‹ˆë‹¤.

- **ëª©ì **: í´ëž˜ìŠ¤ì˜ êµ¬ì²´ì ì¸ ë‚´ë¶€ ë¡œì§ì„ ìˆ¨ê¸°ê³ , ì™¸ë¶€ì—ëŠ” ì˜¤ì§ 'ì´ëŸ¬í•œ ê¸°ëŠ¥ì„ ê°€ì§„ë‹¤'ëŠ” ëª…ì„¸(API)ë§Œ ë…¸ì¶œí•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.
- **íŠ¹ì§•**: Java/Kotlinì˜ ìˆœìˆ˜Â interfaceì™€ ê°€ìž¥ ìœ ì‚¬í•œ ë™ìž‘ì„ í•˜ë„ë¡ ê°•ì œí•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

```dart
// [File: auth_lib.dart]
interface class AuthProvider {
  void login() {
    print("ê¸°ë³¸ ë¡œê·¸ì¸ ë¡œì§");
  }
}

// [File: main.dart]
import 'auth_lib.dart';

// âœ… ì¸í„°íŽ˜ì´ìŠ¤ êµ¬í˜„ ê°€ëŠ¥ (ì„¤ê³„ë§Œ ë”°ë¦„, ëª¨ë“  ë©”ì„œë“œ ìž¬ì •ì˜ í•„ìš”)
class GoogleAuth implements AuthProvider {
  @override
  void login() => print("êµ¬ê¸€ ë¡œê·¸ì¸ ìˆ˜í–‰");
}

// âŒ ìƒì† ë¶ˆê°€ëŠ¥ (ì»´íŒŒì¼ ì—ëŸ¬)
// class MyAuth extends AuthProvider {} 
// Error: The class 'AuthProvider' can't be extended outside of its library.
```

### 3-3.Â finalÂ (ìƒì† ê¸ˆì§€, ì¸í„°íŽ˜ì´ìŠ¤ êµ¬í˜„ ê¸ˆì§€)

finalÂ í‚¤ì›Œë“œëŠ” í•´ë‹¹ í´ëž˜ìŠ¤ì˜ ê³„ì¸µ êµ¬ì¡°ë¥¼ ì™„ì „ížˆ ë‹«ì•„ë²„ë¦½ë‹ˆë‹¤.Â **ìƒì†ê³¼ êµ¬í˜„ì„ ëª¨ë‘ ê¸ˆì§€**í•©ë‹ˆë‹¤.

- **ëª©ì **: í´ëž˜ìŠ¤ë¥¼ í™•ìž¥í•˜ê±°ë‚˜ ë³€í˜•í•˜ëŠ” ê²ƒì„ ì›ì²œ ë´‰ì‡„í•˜ì—¬ ê°€ìž¥ ë†’ì€ ìˆ˜ì¤€ì˜ ì•ˆì „ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.
- **íŠ¹ì§•**: ìœ í‹¸ë¦¬í‹° í´ëž˜ìŠ¤ë‚˜ ë³€ê²½ë˜ì–´ì„œëŠ” ì•ˆ ë˜ëŠ” í•µì‹¬ ë°ì´í„° ì—”ì§„ ë“±ì— ì‚¬ìš©í•©ë‹ˆë‹¤.

```dart
// [File: engine_lib.dart]
final class CryptoEngine {
  void encrypt() => print("ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™” ì¤‘...");
}

// [File: main.dart]
import 'engine_lib.dart';

// âŒ ìƒì† ë¶ˆê°€ëŠ¥
// class MyEngine extends CryptoEngine {}

// âŒ ì¸í„°íŽ˜ì´ìŠ¤ êµ¬í˜„ ë¶ˆê°€ëŠ¥
// class MockEngine implements CryptoEngine {}

void main() {
  // âœ… ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ë° ì‚¬ìš©ì€ ë‹¹ì—°ížˆ ê°€ëŠ¥
  var engine = CryptoEngine();
  engine.encrypt();
}
```

### 3-4. ê°œë°œìžì˜ ì„¤ê³„ Insight

### 1. ì™œÂ baseë¥¼ ì“°ëŠ”ê°€?

ë§Œì•½ ë¸”ë£¨íˆ¬ìŠ¤ í†µì‹  ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë§Œë“ ë‹¤ë©´, ëª¨ë“  í†µì‹  ê°ì²´ëŠ” ë°˜ë“œì‹œÂ internal_connect()ë¼ëŠ” ë¹„ê³µê°œ ë©”ì„œë“œë¥¼ ê±°ì³ì•¼ í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ì´ë•ŒÂ baseë¥¼ ì‚¬ìš©í•˜ë©´ ì‚¬ìš©ìžê°€Â implementsë¥¼ í†µí•´ ë¶€ëª¨ì˜Â internal_connect()ë¥¼ ëˆ„ë½í•œ ì±„ ê»ë°ê¸°ë§Œ ë§Œë“œëŠ” ì‹¤ìˆ˜ë¥¼ ë°©ì§€í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

### 2. ì™œÂ interfaceë¥¼ ì“°ëŠ”ê°€?

ë¼ì´ë¸ŒëŸ¬ë¦¬ ë‚´ë¶€ì ìœ¼ë¡œëŠ” ë³µìž¡í•œ Helper ë©”ì„œë“œë“¤ì´ ë§Žì§€ë§Œ, ì™¸ë¶€ ì‚¬ìš©ìžì—ê²ŒëŠ” ê¹¨ë—í•œ APIë§Œ ì œê³µí•˜ê³  ì‹¶ì„ ë•Œ ìœ ìš©í•©ë‹ˆë‹¤. ìƒì†ì„ ë§‰ìŒìœ¼ë¡œì¨ ë¶€ëª¨ í´ëž˜ìŠ¤ì˜ ì·¨ì•½í•œ ë‚´ë¶€ ì½”ë“œê°€ ìžì‹ì—ê²Œ ì „íŒŒë˜ëŠ” 'ê°•í•œ ê²°í•©'ì„ ëŠì–´ë‚¼ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

### 3. ì–¸ì œÂ finalì„ ì“°ëŠ”ê°€?

ë” ì´ìƒ ìˆ˜ì •ë  í•„ìš”ê°€ ì—†ëŠ” ì™„ì „í•œ ê¸°ëŠ¥ì„ ê°–ì¶˜ í´ëž˜ìŠ¤ë‚˜, ìƒì†ì„ í†µí•œ ë‹¤í˜•ì„±ì´ ì˜¤ížˆë ¤ ë²„ê·¸ë¥¼ ìœ ë°œí•  ìˆ˜ ìžˆëŠ” ë³´ì•ˆ ê´€ë ¨ í´ëž˜ìŠ¤ì— ì ìš©í•©ë‹ˆë‹¤.

## ìš”ì•½

### ðŸ”’ Class Modifiers

Dart 3.0ë¶€í„° í´ëž˜ìŠ¤ì˜ ìƒì† ë° êµ¬í˜„ ë²”ìœ„ë¥¼ ì„¸ë°€í•˜ê²Œ ì œì–´í•  ìˆ˜ ìžˆëŠ” í‚¤ì›Œë“œë“¤ì´ ë„ìž…ë˜ì—ˆìŠµë‹ˆë‹¤.

- `base`: ìƒì†ì€ ê°€ëŠ¥í•˜ì§€ë§Œ ì¸í„°íŽ˜ì´ìŠ¤ êµ¬í˜„ì€ ê¸ˆì§€.
- `interface`: ì¸í„°íŽ˜ì´ìŠ¤ êµ¬í˜„ì€ ê°€ëŠ¥í•˜ì§€ë§Œ ìƒì†ì€ ê¸ˆì§€.
- `final`: ìƒì†ê³¼ êµ¬í˜„ ëª¨ë‘ ê¸ˆì§€.
- `sealed`: ë™ì¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë‚´ì—ì„œë§Œ ìƒì†ì´ ê°€ëŠ¥í•œ 'ë‹«ížŒ' í´ëž˜ìŠ¤ ê³„ì¸µ êµ¬ì¡°.

### ðŸ† Sealed Class & Pattern Matching

`sealed` í´ëž˜ìŠ¤ëŠ” Kotlinì˜ Sealed Classì™€ ìœ ì‚¬í•˜ë©°, **Switch Expression**ê³¼ ê²°í•©í•  ë•Œ ê°•ë ¥í•©ë‹ˆë‹¤.

- ì»´íŒŒì¼ëŸ¬ê°€ ëª¨ë“  í•˜ìœ„ íƒ€ìž…ì„ ì²´í¬í•˜ì—¬ ì™„ì „ì„±(Exhaustiveness)ì„ ë³´ìž¥.
- `default` ì¼€ì´ìŠ¤ ì—†ì´ë„ ì•ˆì „í•œ ì½”ë“œ ìž‘ì„±ì´ ê°€ëŠ¥í•˜ì—¬ ì—ëŸ¬ ë°œìƒ ê°€ëŠ¥ì„±ì„ ì¤„ìž„.

### ðŸš€ ì‹¤ë¬´ ì˜ˆì œ

```dart
sealed class Result {}
class Success extends Result { final String data; Success(this.data); }
class Failure extends Result { final Exception error; Failure(this.error); }

void handleResult(Result result) {
  final message = switch (result) {
    Success(data: var d) => 'Success: $d',
    Failure(error: var e) => 'Error: $e',
  };
  print(message);
}
```